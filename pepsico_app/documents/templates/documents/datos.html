{% extends "base.html" %}
{% load static %}

{% block title %}Visualización de Datos{% endblock %}
{% block static %}
    <script src="{% static "documents/main.js" %}" defer></script>
{% endblock %}
{% block content %}
    {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}
    <div>
      <!-- Selector de tablas -->
      <label for="tablaSelector"><strong>Selecciona una tabla:</strong></label>
      <select id="tablaSelector" onchange="mostrarTabla()">
        <option value="tabla-sites">Sites</option>
        <option value="tabla-sapequipment">SAP Equipment</option>
        <option value="tabla-ceco">CECO</option>
        <option value="tabla-vehicletypes">Tipos de Vehículos</option>
        <option value="tabla-vehiclestatus">Estados de Vehículos</option>
        <option value="tabla-vehicles">Vehículos</option>
        <option value="tabla-roles">Roles</option>
        <option value="tabla-userstatus">Estados de Usuarios</option>
        <option value="tabla-flotausers">Usuarios de Flota</option>
        <option value="tabla-routes">Rutas</option>
        <option value="tabla-ingresos">Ingresos</option>
        <option value="tabla-servicetypes">Tipos de Servicio</option>
        <option value="tabla-tasks">Tareas</option>
        <option value="tabla-taskassignments">Asignaciones de Tareas</option>
        <option value="tabla-pauses">Pausas</option>
        <option value="tabla-documents">Documentos</option>
        <option value="tabla-repuestos">Repuestos</option>
        <option value="tabla-notifications">Notificaciones</option>
        <option value="tabla-reports">Reportes</option>
        <option value="tabla-maintenanceschedules">Programaciones de Mantenimiento</option>
      </select>

      <!-- Barra de búsqueda -->
      <br><br>
      <label for="searchInput"><strong>Buscar:</strong></label>
      <input type="text" id="searchInput" placeholder="Ingrese el término de búsqueda">
      <label for="fieldSelector"><strong>Campo:</strong></label>
      <select id="fieldSelector">
        <option value="all">Todos</option>
      </select>

      <!-- Botones de modo -->
      <br><br>
      <button id="btnModoEditar" onclick="activarModoEditar()">Editar</button>
      <button id="btnModoEliminar" onclick="activarModoEliminar()">Eliminar</button>
      <button id="btnEliminarSeleccionados" onclick="eliminarSeleccionados()" style="display: none;">Eliminar Seleccionados</button>
      <!-- Sites -->
      <div id="tabla-sites" class="tabla-contenedor">
        <h2>Sites</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Nombre</th>
            <th>Cantidad de Patentes</th>
          </tr>
        </thead>
        <tbody>
          {% for site in sites %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('sites', {{ site.pk }})">Editar</button></td>
            <td>{{ site.id_site }}</td>
            <td>{{ site.name }}</td>
            <td>{{ site.patent_count }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="4">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- SAPEquipment -->
      <div id="tabla-sapequipment" class="tabla-contenedor">
        <h2>SAP Equipment</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Código</th>
            <th>Descripción</th>
          </tr>
        </thead>
        <tbody>
          {% for equipment in sap_equipments %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('sap_equipments', {{ equipment.pk }})">Editar</button></td>
            <td>{{ equipment.id_equipment }}</td>
            <td>{{ equipment.code }}</td>
            <td>{{ equipment.description|default:"Sin descripción" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="4">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- CECO -->
      <div id="tabla-ceco" class="tabla-contenedor">
        <h2>CECO</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Código</th>
            <th>Nombre</th>
            <th>Tipo</th>
            <th>Descripción</th>
          </tr>
        </thead>
        <tbody>
          {% for ceco in cecos %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('cecos', {{ ceco.pk }})">Editar</button></td>
            <td>{{ ceco.id_ceco }}</td>
            <td>{{ ceco.code }}</td>
            <td>{{ ceco.name }}</td>
            <td>{{ ceco.type }}</td>
            <td>{{ ceco.description|default:"Sin descripción" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="6">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- VehicleTypes -->
      <div id="tabla-vehicletypes" class="tabla-contenedor">
        <h2>Tipos de Vehículos</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Nombre</th>
            <th>Site</th>
            <th>Datos</th>
          </tr>
        </thead>
        <tbody>
          {% for vehicle_type in vehicle_types %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('vehicle_types', {{ vehicle_type.pk }})">Editar</button></td>
            <td>{{ vehicle_type.id_type }}</td>
            <td>{{ vehicle_type.name }}</td>
            <td>{{ vehicle_type.site.name }}</td>
            <td>{{ vehicle_type.data }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- VehicleStatus -->
      <div id="tabla-vehiclestatus" class="tabla-contenedor">
        <h2>Estados de Vehículos</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Nombre</th>
            <th>Descripción</th>
          </tr>
        </thead>
        <tbody>
          {% for status in vehicle_statuses %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('vehicle_statuses', {{ status.pk }})">Editar</button></td>
            <td>{{ status.id_status }}</td>
            <td>{{ status.name }}</td>
            <td>{{ status.description|default:"Sin descripción" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="4">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- Vehicles -->
      <div id="tabla-vehicles" class="tabla-contenedor">
        <h2>Vehículos</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>Patente</th>
            <th>Equipo</th>
            <th>CECO</th>
            <th>Marca</th>
            <th>Modelo</th>
            <th>Año</th>
            <th>Edad</th>
            <th>Vida Útil</th>
            <th>Kilometraje</th>
            <th>Site</th>
            <th>Operativo</th>
            <th>Respaldo</th>
            <th>Fuera de Servicio</th>
            <th>Tipo</th>
            <th>Plan</th>
            <th>Siniestro</th>
            <th>Observaciones</th>
            <th>Cumplimiento</th>
            <th>TCT</th>
            <th>Geotab</th>
            <th>Subasta</th>
            <th>Estado</th>
          </tr>
        </thead>
        <tbody>
          {% for vehicle in vehicles %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('vehicles', {{ vehicle.pk }})">Editar</button></td>
            <td>{{ vehicle.patent }}</td>
            <td>{{ vehicle.equipment.code }}</td>
            <td>{{ vehicle.ceco.name }}</td>
            <td>{{ vehicle.brand }}</td>
            <td>{{ vehicle.model }}</td>
            <td>{{ vehicle.year }}</td>
            <td>{{ vehicle.age }}</td>
            <td>{{ vehicle.useful_life }}</td>
            <td>{{ vehicle.mileage|default:"Sin datos" }}</td>
            <td>{{ vehicle.site.name }}</td>
            <td>{{ vehicle.operational|yesno:"Sí,No" }}</td>
            <td>{{ vehicle.backup|yesno:"Sí,No" }}</td>
            <td>{{ vehicle.out_of_service|yesno:"Sí,No" }}</td>
            <td>{{ vehicle.type.name }}</td>
            <td>{{ vehicle.plan|yesno:"Sí,No" }}</td>
            <td>{{ vehicle.sinister|yesno:"Sí,No" }}</td>
            <td>{{ vehicle.observations }}</td>
            <td>{{ vehicle.compliance }}</td>
            <td>{{ vehicle.tct|default:"Sin datos" }}</td>
            <td>{{ vehicle.geotab_confirm|yesno:"Sí,No" }}</td>
            <td>{{ vehicle.auction|yesno:"Sí,No" }}</td>
            <td>{{ vehicle.status.name|default:"Sin estado" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="23">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- Role -->
      <div id="tabla-roles" class="tabla-contenedor">
        <h2>Roles</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Nombre</th>
            <th>Descripción</th>
            <th>Es Supervisor</th>
          </tr>
        </thead>
        <tbody>
          {% for role in roles %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('roles', {{ role.pk }})">Editar</button></td>
            <td>{{ role.id_role }}</td>
            <td>{{ role.name }}</td>
            <td>{{ role.description|default:"Sin descripción" }}</td>
            <td>{{ role.is_supervisor_role|yesno:"Sí,No" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- UserStatus -->
      <div id="tabla-userstatus" class="tabla-contenedor">
        <h2>Estados de Usuarios</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Nombre</th>
            <th>Descripción</th>
          </tr>
        </thead>
        <tbody>
          {% for status in user_statuses %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('user_statuses', {{ status.pk }})">Editar</button></td>
            <td>{{ status.id_status }}</td>
            <td>{{ status.name }}</td>
            <td>{{ status.description|default:"Sin descripción" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="4">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- FlotaUsers -->
      <div id="tabla-flotausers" class="tabla-contenedor">
        <h2>Usuarios de Flota</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Nombre</th>
            <th>Rol</th>
            <th>Patente</th>
            <th>Estado</th>
            <th>Observaciones</th>
            <th>GPID</th>
          </tr>
        </thead>
        <tbody>
          {% for user in flota_users %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('flota_users', {{ user.pk }})">Editar</button></td>
            <td>{{ user.id_user }}</td>
            <td>{{ user.name }}</td>
            <td>{{ user.role.name }}</td>
            <td>{{ user.patent.patent }}</td>
            <td>{{ user.status.name }}</td>
            <td>{{ user.observations }}</td>
            <td>{{ user.gpid }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="8">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- Routes -->
      <div id="tabla-routes" class="tabla-contenedor">
        <h2>Rutas</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Código de Ruta</th>
            <th>GTM</th>
            <th>Conductor</th>
            <th>Patente Camión</th>
            <th>Comentario</th>
          </tr>
        </thead>
        <tbody>
          {% for route in routes %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('routes', {{ route.pk }})">Editar</button></td>
            <td>{{ route.id_route }}</td>
            <td>{{ route.route_code }}</td>
            <td>{{ route.gtm }}</td>
            <td>{{ route.driver.name|default:"Sin conductor" }}</td>
            <td>{{ route.truck.patent }}</td>
            <td>{{ route.comment }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="7">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- Ingresos -->
      <div id="tabla-ingresos" class="tabla-contenedor">
        <h2>Ingresos</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Patente</th>
            <th>Tipo de Servicio</th>
            <th>Fecha de Entrada</th>
            <th>Fecha de Salida</th>
            <th>Chofer</th>
            <th>Supervisor</th>
            <th>Observaciones</th>
            <th>Autorización</th>
          </tr>
        </thead>
        <tbody>
          {% for ingreso in ingresos %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('ingresos', {{ ingreso.pk }})">Editar</button></td>
            <td>{{ ingreso.id_ingreso }}</td>
            <td>{{ ingreso.patent.patent }}</td>
            <td>{{ ingreso.service_type.name }}</td>
            <td>{{ ingreso.entry_datetime }}</td>
            <td>{{ ingreso.exit_datetime|default:"Sin datos" }}</td>
            <td>{{ ingreso.chofer.name }}</td>
            <td>{{ ingreso.supervisor.name|default:"Sin supervisor" }}</td>
            <td>{{ ingreso.observations|default:"Sin observaciones" }}</td>
            <td>{{ ingreso.authorization|yesno:"Sí,No" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="10">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- ServiceTypes -->
      <div id="tabla-servicetypes" class="tabla-contenedor">
        <h2>Tipos de Servicio</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Nombre</th>
            <th>Descripción</th>
            <th>Site</th>
          </tr>
        </thead>
        <tbody>
          {% for service_type in service_types %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('service_types', {{ service_type.pk }})">Editar</button></td>
            <td>{{ service_type.id_service_type }}</td>
            <td>{{ service_type.name }}</td>
            <td>{{ service_type.description|default:"Sin descripción" }}</td>
            <td>{{ service_type.site.name }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- Tasks -->
      <div id="tabla-tasks" class="tabla-contenedor">
        <h2>Tareas</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Ingreso</th>
            <th>Descripción</th>
            <th>Urgencia</th>
            <th>Fecha de Inicio</th>
            <th>Fecha de Fin</th>
            <th>Tipo de Servicio</th>
            <th>Supervisor</th>
          </tr>
        </thead>
        <tbody>
          {% for task in tasks %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('tasks', {{ task.pk }})">Editar</button></td>
            <td>{{ task.id_task }}</td>
            <td>{{ task.ingreso.id_ingreso }}</td>
            <td>{{ task.description }}</td>
            <td>{{ task.urgency }}</td>
            <td>{{ task.start_datetime }}</td>
            <td>{{ task.end_datetime|default:"Sin datos" }}</td>
            <td>{{ task.service_type.name }}</td>
            <td>{{ task.supervisor.name|default:"Sin supervisor" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="9">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- TaskAssignments -->
      <div id="tabla-taskassignments" class="tabla-contenedor">
        <h2>Asignaciones de Tareas</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Tarea</th>
            <th>Usuario</th>
          </tr>
        </thead>
        <tbody>
          {% for assignment in task_assignments %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('task_assignments', {{ assignment.pk }})">Editar</button></td>
            <td>{{ assignment.id_assignment }}</td>
            <td>{{ assignment.task.id_task }}</td>
            <td>{{ assignment.user.name }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="4">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- Pauses -->
      <div id="tabla-pauses" class="tabla-contenedor">
        <h2>Pausas</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Asignación</th>
            <th>Motivo</th>
            <th>Duración</th>
            <th>Autorización</th>
            <th>Fecha de Inicio</th>
            <th>Fecha de Fin</th>
          </tr>
        </thead>
        <tbody>
          {% for pause in pauses %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('pauses', {{ pause.pk }})">Editar</button></td>
            <td>{{ pause.id_pause }}</td>
            <td>{{ pause.assignment.id_assignment }}</td>
            <td>{{ pause.motivo }}</td>
            <td>{{ pause.duration }}</td>
            <td>{{ pause.authorization|yesno:"Sí,No" }}</td>
            <td>{{ pause.start_datetime }}</td>
            <td>{{ pause.end_datetime }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="8">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- Documents -->
      <div id="tabla-documents" class="tabla-contenedor">
        <h2>Documentos</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Ingreso</th>
            <th>Tipo</th>
            <th>Ruta del Archivo</th>
            <th>Fecha de Subida</th>
            <th>Usuario</th>
          </tr>
        </thead>
        <tbody>
          {% for document in documents %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('documents', {{ document.pk }})">Editar</button></td>
            <td>{{ document.id_document }}</td>
            <td>{{ document.ingreso.id_ingreso }}</td>
            <td>{{ document.type }}</td>
            <td>{{ document.file_path }}</td>
            <td>{{ document.upload_datetime }}</td>
            <td>{{ document.user.name }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="7">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- Repuestos -->
      <div id="tabla-repuestos" class="tabla-contenedor">
        <h2>Repuestos</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Nombre</th>
            <th>Cantidad</th>
            <th>Tarea</th>
            <th>Fecha de Entrega</th>
          </tr>
        </thead>
        <tbody>
          {% for repuesto in repuestos %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('repuestos', {{ repuesto.pk }})">Editar</button></td>
            <td>{{ repuesto.id_repuesto }}</td>
            <td>{{ repuesto.name }}</td>
            <td>{{ repuesto.quantity }}</td>
            <td>{{ repuesto.task.id_task|default:"Sin tarea" }}</td>
            <td>{{ repuesto.delivery_datetime }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="6">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- Notifications -->
      <div id="tabla-notifications" class="tabla-contenedor">
        <h2>Notificaciones</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Destinatario</th>
            <th>Mensaje</th>
            <th>Fecha de Envío</th>
            <th>Tipo</th>
          </tr>
        </thead>
        <tbody>
          {% for notification in notifications %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('notifications', {{ notification.pk }})">Editar</button></td>
            <td>{{ notification.id_notification }}</td>
            <td>{{ notification.recipient.name }}</td>
            <td>{{ notification.message }}</td>
            <td>{{ notification.sent_datetime }}</td>
            <td>{{ notification.type }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="6">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- Reports -->
      <div id="tabla-reports" class="tabla-contenedor">
        <h2>Reportes</h2>
        <table>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Tipo</th>
            <th>Fecha de Generación</th>
            <th>Datos</th>
            <th>Usuario</th>
          </tr>
        </thead>
        <tbody>
          {% for report in reports %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('reports', {{ report.pk }})">Editar</button></td>
            <td>{{ report.id_report }}</td>
            <td>{{ report.type }}</td>
            <td>{{ report.generated_datetime }}</td>
            <td>{{ report.data }}</td>
            <td>{{ report.user.name }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="6">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      </div>
      <!-- MaintenanceSchedules -->
      <div id="tabla-maintenanceschedules" class="tabla-contenedor">
        <h2>Programaciones de Mantenimiento</h2>
        <table>
  </div>
        <thead>
          <tr>
            <th class="edit-column">Editar</th>
            <th>ID</th>
            <th>Patente</th>
            <th>Tipo de Servicio</th>
            <th>Fecha de Inicio</th>
            <th>Fecha de Fin</th>
            <th>Regla de Recurrencia</th>
            <th>Recordatorio (min)</th>
            <th>Usuario Asignado</th>
            <th>Supervisor</th>
            <th>Estado</th>
            <th>Observaciones</th>
          </tr>
        </thead>
        <tbody>
          {% for schedule in maintenance_schedules %}
          <tr>
            <td class="edit-column"><button onclick="editarRegistro('maintenance_schedules', {{ schedule.pk }})">Editar</button></td>
            <td>{{ schedule.id_schedule }}</td>
            <td>{{ schedule.patent.patent }}</td>
            <td>{{ schedule.service_type.name }}</td>
            <td>{{ schedule.start_datetime }}</td>
            <td>{{ schedule.end_datetime }}</td>
            <td>{{ schedule.recurrence_rule|default:"Sin recurrencia" }}</td>
            <td>{{ schedule.reminder_minutes|default:"Sin recordatorio" }}</td>
            <td>{{ schedule.assigned_user.name|default:"Sin asignado" }}</td>
            <td>{{ schedule.supervisor.name|default:"Sin supervisor" }}</td>
            <td>{{ schedule.status.name }}</td>
            <td>{{ schedule.observations|default:"Sin observaciones" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="12">No hay datos disponibles</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
{% endblock %}
